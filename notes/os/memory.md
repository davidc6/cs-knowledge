# Memory

- [Memory Model](#memory-model-memory-consistency)

## Memory Model (Memory Consistency)

It is about visibility and consistency of changes to data stored in memory. A contract the defines this is called memory consistency (aka memory model). Original a memory model was about hardware guarantees to the assembly code writers. 

A computer memory model is how a computer architecture determines what memory guarantees it will provide to an application. Memory models vary by processor type. There are instructions that computer architectures provide instructions that can force any changes in memory to be propagate to other processors. This will ensure that memory modifications are visible to threads running on other processors. There are two memory categories:

1. Strongly ordered. Memory modifications on one processor is visible to all other processors.
2. Weak ordered. Memory modifications on one processor maybe not be visible to other processors.

There are many techniques and optimisations that processors and compilers perform to make the code run faster. This is to say that if a compiler sees that some code reorganisation will make the code run faster, it will do so. If a CPU finds a way to execute instructions in a more optimal way without changing the way the program works, it will execute them accordingly.

Consistency models define correct shared memory behaviour in terms of loads and stores (that is memory reads and writes). In order for developers to know what memory behaviour to expect, shared memory correctness must be defined by the implementors. 

Memory order is the order in which CPU accesses computer memory. There are two ways this can be done:

- memory ordering generated by the compiler curing compile time
- memory ordering generated by the CPU at runtime

## Q & A

- **Q:** What is volatile memory?
- **A:** Memory that is not permanent and everything stored in it will be lost once the system shuts down. It requires constant power supply to maintain stored data.
---
- **Q:** Why is cache memory important?
- **A:** It speeds up data retrieval since the data in cache is usually stored in a location that is quicker (than RAM or storage) for CPU to access frequently used data and instructions. 
---
- **Q:** What is virtual memory?
- **A:** It is a technique used by the operating system to create an illusion for the processes that they have unlimited and access to computer's memory.  It is used as a layer between the physical memory and processes in order to manage memory effectively, enable data in RAM and transfer not currently used data to secondary storage. When there's no more RAM available, the data gets stored on the secondary drive. Memory management unit (MMU) will swap the least used data out of RAM and into a virtual memory. Virtual memory allows files and memory to be shared by two or more processes through *page sharing*.
    - For example, standard C library (libc) can be shared by several processes through mapping of the shared object (.so) into a virtual address space. 
    - Two or more processes can communicate through the use of shared memory. Virtual memory allows a process to create a region of memory that it can share with another process.
    - Pages can be shared during process creation with *fork()* system call which speeds up process creation.
---
- **Q:** What is virtual address space?
- **A:** Virtual view of how the process is stored in memory. MMU maps logical/virtual pages to physical frames in memory. Physical page frames assigned to a process may not be contiguous.
---
- **Q:** What is the purpose of a memory address?
- **A:** 
